to do: change find_by_pid back to remove_by_pid at the end
(if find_by_pid becomes unnecessary)